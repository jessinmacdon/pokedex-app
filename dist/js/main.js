let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";document.querySelector("#pokedex");const n={bug:"#737d00",flying:"#835fdb",fire:"#ba5d00",psychic:"#eb0065",normal:"#797b00",water:"#2d73e2",grass:"#418600",electric:"#8e01fd",ice:"#008485",fighting:"#c13128",poison:"#9f409f",ground:"#654320",rock:"#6f5848",ghost:"#705898",dark:"#6f5848",dragon:"#7138f8",steel:"#73739a",fairy:"#bb5667"};function o(t){e.push(t)}function i(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(function(e){return e.type.name})}).catch(function(e){console.error(e)})}function a(e){i(e).then(function(){r(e)})}function r(e){let t=document.querySelector(".modal-body"),o=document.querySelector(".modal-title");t.innerHTML="",o.innerHTML="";let i=document.createElement("h1");i.classList.add("text-capitalize"),i.innerText=e.name;let a=document.createElement("img");a.classList.add("modal-img"),a.src=e.imageUrl,a.alt="the pokemon image on a lightblue background";let r=document.createElement("button");r.classList.add("btn-primary"),r.innerText="Height: "+e.height;let c=document.createElement("button");c.classList.add("btn-secondary"),c.innerText="Weight: "+e.weight;let l=document.createElement("div");l.classList.add("typesElementContainer"),e.types.forEach(function(e){let t=document.createElement("button");t.classList.add("btn-info"),t.style.backgroundColor=n[e],t.innerText="Type: "+e,l.appendChild(t)}),o.append(i),t.append(a),t.append(r),t.append(c),t.append(l)}return $(document).ready(function(){$("#search-pokemon").on("input",function(){var e=$(this).val().toLowerCase();$(".group-list-item").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})}),{getAll:function(){return e},add:o,addListItem:function(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("group-list-item");let o=document.createElement("button");o.setAttribute("data-target","#pokedex"),o.setAttribute("data-toggle","modal"),o.innerText=e.name,o.classList.add("button-class"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(){a(e)})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,showDetails:a,showModal:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
